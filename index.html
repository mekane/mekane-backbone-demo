<!doctype html>
<html>
<head>
    <title>Backbone Demo P11</title>
    <link rel="stylesheet" href="css/demo.css">
</head>
<body>

    <header>Box View</header>
    <div id="boxViews"></div>

    <header>List View</header>
    <ul id="listViews"></ul>

    <header>Edit Views</header>
    <div id="editViews"></div>

    <header>New Employee</header>
    <form id="newEmployeeForm" class="employee edit">
        <input type="text" name="name" value=""/>
        <input type="text" name="role" value=""/>
        <input type="text" name="drink" value=""/>
        <button type="button">Add</button>
    </form>


    <a href="employees/all">All Employees</a>
    <a href="employees/role/developer">Developers</a>
    <a href="employees/drinks/tea">Tea Drinkers</a>

    <script type="text/x-handlebars-template" id="employeeBoxViewTemplate">
        <div class="name">{{name}}</div>
        <div class="role">{{role}}</div> 
        <div class="drink">{{drink}}</div>
    </script>
    <script type="text/x-handlebars-template" id="employeeListViewTemplate">
        {{name}} the {{role}} drinks {{drink}}
    </script>
    <script type="text/x-handlebars-template" id="employeeEditViewTemplate">
        <input type="text" name="name" value="{{name}}"/>
        <input type="text" name="role" value="{{role}}"/>
        <input type="text" name="drink" value="{{drink}}"/>
        <button type="button" class="delete">Delete</button>
    </script>
    <script src="/js/jquery-2.1.0.js"></script>
    <script src="/js/underscore.js"></script>
    <script src="/js/backbone.js"></script>
    <script src="/js/handlebars.js"></script>
    <script src="models/Employee.js"></script>
    <script src="views/EmployeeView.js"></script>
    <script src="views/EmployeeListView.js"></script>
    <script src="views/EmployeeEditView.js"></script>
    <script src="views/NewEmployeeForm.js"></script>
    <script src="collections/EmployeeCollection.js"></script>
    <script src="routes.js"></script>

    <script>
    employeeList = app.employeeList = new app.EmployeeCollection();
    employeeList.fetch();

    app.newEmployeeForm = new app.NewEmployeeForm();

    Backbone.history.start({pushState: true, root: 'backbone'});

    // Added Routes

    $(function(){
        $('body').on('click', 'a', function(e){
            e.preventDefault();
            app.router.navigate( $(this).attr('href'), {trigger:true} );
        });
    });
    </script>
</body>
</html>
